<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Keystone API - Documentation</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 2rem;
            background: #1e1e1e;
            color: #eee;
        }
        h1, h2 {
            color: #8cf;
        }
        code {
            background: #333;
            padding: 2px 6px;
            border-radius: 4px;
            color: #fc8;
        }
        pre {
            background: #2e2e2e;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
        }
        .route {
            margin-bottom: 2rem;
        }
        .method {
            font-weight: bold;
            color: #6f6;
        }
        .param {
            color: #ccc;
        }
    </style>
</head>
<body>
<h1>üîê Keystone API</h1>
<p>API s√©curis√©e pour le contr√¥le d'un serveur Minecraft via mobile.</p>

<h2>üîë Authentification</h2>
<ul>
    <li>Header <code>Authorization: Bearer &lt;token&gt;</code></li>
    <li>+ Signature HMAC (si activ√©e)</li>
    <li>+ Champ <code>"username"</code> requis dans le corps JSON</li>
</ul>

<h2>üì° Endpoints</h2>

<div class="route">
    <div class="method">GET /api/serverinfo</div>
    <p>Infos de base : nombre de joueurs et slots max.</p>
</div>

<div class="route">
    <div class="method">GET /api/status</div>
    <p>Statut m√©moire + joueurs connect√©s.</p>
</div>

<div class="route">
    <div class="method">GET /api/players</div>
    <p>Liste des joueurs connect√©s avec UUID et ping.</p>
</div>

<div class="route">
    <div class="method">GET /api/chatlog</div>
    <p>Historique du chat r√©cent (si activ√©).</p>
</div>

<div class="route">
    <div class="method">POST /api/stop</div>
    <p>Arr√™te le serveur proprement.</p>
</div>

<div class="route">
    <div class="method">POST /api/restart</div>
    <p>Demande un red√©marrage (n√©cessite script externe).</p>
</div>

<div class="route">
    <div class="method">POST /api/message</div>
    <p>Envoie un message √† tous les joueurs.</p>
    <pre>{
  "username": "admin",
  "text": "Salut tout le monde !"
}</pre>
</div>

<div class="route">
    <div class="method">POST /api/broadcast</div>
    <p>Affiche un message dans le chat ET console.</p>
    <pre>{
  "username": "admin",
  "text": "Red√©marrage imminent !"
}</pre>
</div>

<div class="route">
    <div class="method">POST /api/command</div>
    <p>Ex√©cute une commande console.</p>
    <pre>{
  "username": "admin",
  "cmd": "say Maintenance en cours"
}</pre>
</div>

<div class="route">
    <div class="method">POST /api/kick</div>
    <p>Expulse un joueur en ligne avec raison + mode silencieux possible.</p>
    <pre>{
  "username": "mod42",
  "player": "Steve",
  "reason": "Comportement inappropri√©",
  "silent": "true"
}</pre>
</div>

<div class="route">
    <div class="method">POST /api/playerinfo</div>
    <p>R√©cup√®re les infos d‚Äôun joueur pr√©cis (s‚Äôil est connect√©).</p>
    <pre>{
  "username": "admin",
  "player": "Steve"
}</pre>
    <p>Retourne :</p>
    <pre>{
  "name": "Steve",
  "uuid": "...",
  "health": 20.0,
  "food": 20,
  "ping": 50,
  "gamemode": "SURVIVAL",
  "isOp": false,
  "location": {
    "world": "world",
    "x": 100.5,
    "y": 64.0,
    "z": -35.2
  },
  "inventory": ["STONE", "IRON_SWORD", ...]
}</pre>
</div>

<hr>
<p>Generated by <strong>Keystone</strong> ¬© fr.djinn</p>
</body>
</html>
